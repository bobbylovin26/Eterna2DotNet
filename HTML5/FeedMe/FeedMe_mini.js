(function(a){var b=0,c=[],d,e=0,f=1,g=.5,h=0,i=0,j=0,k=0,l=20,m=64,n=64,o=false,p=[],q,r,s=true,t=(new Date).getTime(),u=0,v=0;a.init=function(a){var b=document.getElementsByTagName("script"),e=b[b.length-1].src;e=e.substring(0,e.lastIndexOf("/"));var f=document.getElementById("feedmeCanvas"),g=f.getContext("2d");if(a){f.width=window.innerWidth;f.height=window.innerHeight}q=f.width;r=f.height;g.setTransform(1,0,0,1,0,0);h=(q-m)/2;i=(r-n)/2;c.push(new Image);c[0].onload=function(){g.drawImage(c[0],h,i,m,n)};c[0].src=e+"/pig.png";c.push(new Image);c[1].src=e+"/pig2.png";d=new Image;d.src=e+"/dollars.png";f.addEventListener("click",w,false);window.setInterval(y,30)};var w=function(a){var b=document.getElementById("feedmeCanvas"),c=b.getContext("2d"),d=a.offsetX||a.clientX-b.offsetLeft,e=a.offsetY||a.clientY-b.offsetTop;p.push(d);p.push(e)};var x=function(a){a/=1e3;if(m>24){m-=a;n-=a}if(p.length<=0&&s===true){j=m+Math.random()*(q-2*m);k=n+Math.random()*(r-2*n);s=false}var c=j-h,d=k-i,o=c*c+d*d;o=Math.sqrt(o);if(o<=m){s=true}o=1/o;o*=l*a;c*=o;d*=o;h+=c;i+=d;e+=f*g;if(e>=5){f*=-1;if(b==0)b=1;else b=0}else if(e<=-5){f*=-1}};var y=function(){var a=document.getElementById("feedmeCanvas"),f=a.getContext("2d"),g=d.width/2,l=d.height/2,o=q*q+r*r,w=0,y=0,z=[],A=0,B=0,C=m*m/4;f.save();f.setTransform(q,0,0,1,0,0);f.clearRect(0,0,q,r);f.restore();f.save();for(var D=0,E=p.length;D<E;D+=2){f.drawImage(d,p[D]-g,p[D+1]-l);var F=p[D]-h,G=p[D+1]-i,H=F*F+G*G;if(H<=C){z.push(D)}H=(o-E)/H;A+=H*F;B+=H*G}for(var D=0,E=z.length;D<E;D++){p.splice(z[D],2);n+=2;m+=2}f.restore();f.save();f.translate(h,i+n/2);f.rotate(e*Math.PI/180);f.translate(-h,-i-n/2);f.drawImage(c[b],h-m/2,i-n/2,m,n);f.restore();if(p.length>0){j=A+.1*u;k=B+.1*v;u=j;v=k;s=true}var I=(new Date).getTime();x(I-t);t=I};var z=function(a,b){var b=b||1;while(b<a){b*=2}return b};var A=function(a,b){var c=document.createElement("canvas"),d=c.getContext("2d"),e=Math.max(z(a/5),64),f=Math.max(z(b/5),64),g=Math.max(e,f)/2,h=2,i=g-2*h,j=i/2;c.width=e;c.height=f;d.fillStyle="#FAAFBA";d.beginPath();d.arc(e/2,f/2,i,0,Math.PI*2,true);d.closePath();d.fill();d.fillStyle="#FFFFFF";d.beginPath();d.arc(e/2-j,f/2,j,0,Math.PI*2,true);d.closePath();d.fill();d.fillStyle="#FFFFFF";d.beginPath();d.arc(e/2+j,f/2,j,0,Math.PI*2,true);d.closePath();d.fill();return d.getImageData(0,0,e,f)}})(window.feedme=window.feedme||{})